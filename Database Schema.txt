
--
-- This SQL script models a potential database schema for Cheferone.
--
--
--

-- Drop previous versions of the tables if they exist, in reverse order of foreign keys
DROP TABLE IF EXISTS IngredientTable;
DROP TABLE IF EXISTS FoodIngredient;
DROP TABLE IF EXISTS Food;
DROP TABLE IF EXISTS Ingredient;

CREATE TABLE Food (
	ID integer PRIMARY KEY,
	name varchar(35) NOT NULL,
	);

CREATE TABLE FoodIngredient (
	fiID integer NOT NULL UNIQUE REFERENCES Player(ID),
	FoodID integer NOT NULL UNIQUE REFERENCES Player(ID),
	ingredientID integer,
	qantity double,
	);

CREATE TABLE IngredientTable (
	ID integer PRIMARY KEY,
	name varchar(35) NOT NULL,
	);

CREATE TABLE Ingredient;
	
--

GRANT SELECT ON FoodTable TO PUBLIC;
GRANT SELECT ON IngredientTableTable TO PUBLIC;
GRANT SELECT ON Food TO PUBLIC;
GRANT SELECT ON Food TO Ingredient;



INSERT INTO FoodIngredient VALUES (1, 2, 3, 3.5);
INSERT INTO IngredientTable VALUES (2, );
INSERT INTO Food VALUES (1, 2, '2019-05-26 10:00:00', 19, 21);

SELECT quanity FROM FoodIngredient;
SELECT name FROM IngredientTable;

